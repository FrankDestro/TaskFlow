# TaskFlow

Esta é uma API RESTful desenvolvida com Spring Boot para gerenciar pessoas e tarefas. A API permite operações CRUD para pessoas e tarefas, além de consultas específicas para obter informações sobre a alocação de tarefas e o tempo gasto.


## Funcionalidades

- **Adicionar, alterar e remover pessoas**
- **Adicionar, alocar e finalizar tarefas**
- **Listar pessoas com total de horas gastas**
- **Buscar pessoas por nome e período**
- **Listar tarefas pendentes sem pessoa alocada**
- **Listar departamentos com quantidade de pessoas e tarefas**


## Tecnologias : 
Java 21 LTS
Spring Boot  3.3.2 
Lombok
Spring Data JPA
H2 DataBase 
PostgreSQL 16
Swagger (Springdoc OpenAPI)
Junit 5 (Teste Unitários)
Jacoco (Cobertura de teste)
Docker compose 
Pgadmin 4


## Documentação da API
A documentação da API pode ser acessada em: http://localhost:8080/swagger-ui.html após iniciar a aplicação.

## Aplicação rodando em Docker

caminho do arquivo docker-compose da aplicação, executar ajustando os volumes. 

![image](https://github.com/user-attachments/assets/7b849639-c12e-49bc-a397-2e37844b5850)

## Script SQL gerado para postgre

```js 
create table tb_departamento (id bigint generated by default as identity, nome varchar(255), primary key (id));
create table tb_pessoa (departamento_id bigint, id bigint generated by default as identity, nome varchar(255), primary key (id));
create table tb_tarefa (duracao integer, finalizada boolean not null, departamento_id bigint, id bigint generated by default as identity, pessoa_id bigint, prazo TIMESTAMP WITHOUT TIME ZONE, descricao TEXT, titulo varchar(255), primary key (id));
alter table if exists tb_pessoa add constraint FKmdcl3lemu5ms9f9gpmty5gs8e foreign key (departamento_id) references tb_departamento;
alter table if exists tb_tarefa add constraint FKpw7smqi3w6p4vwfl8et1a1gop foreign key (departamento_id) references tb_departamento;
alter table if exists tb_tarefa add constraint FKcr7apid1mkhnp0prsf8ow4h5p foreign key (pessoa_id) references tb_pessoa;
INSERT INTO tb_departamento (nome) VALUES ('Recursos Humanos');
INSERT INTO tb_departamento (nome) VALUES ('Tecnologia');
INSERT INTO tb_departamento (nome) VALUES ('Financeiro');
INSERT INTO tb_departamento (nome) VALUES ('Marketing');
INSERT INTO tb_departamento (nome) VALUES ('Jurídico');
INSERT INTO tb_pessoa (nome, departamento_id) VALUES ('Ana Silva', 1);
INSERT INTO tb_pessoa (nome, departamento_id) VALUES ('João Santos', 2);
INSERT INTO tb_pessoa (nome, departamento_id) VALUES ('Maria Oliveira', 3);
INSERT INTO tb_pessoa (nome, departamento_id) VALUES ('Carlos Pereira', 4);
INSERT INTO tb_pessoa (nome, departamento_id) VALUES ('Fernanda Lima', 5);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Recrutar novo funcionário', 'Recrutamento para a vaga de desenvolvedor', '2024-08-30 10:00:00', 100, true, 1, 1);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Desenvolver nova funcionalidade', 'Implementar novo módulo no sistema', '2024-09-15 17:00:00', 120, true, 2, 2);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Revisar relatórios financeiros', 'Analisar relatórios do último trimestre', '2024-08-25 15:00:00', 180, true, 3, 3);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Campanha de marketing digital', 'Criar campanha para novo produto', '2024-09-10 12:00:00', 50, false, 3, 1);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Atualização de contratos', 'Revisar e atualizar contratos legais', '2024-09-05 09:00:00', 40, false, 5, 1);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Planejamento de projeto', 'Definir os requisitos e plano para o novo projeto', '2024-08-20 10:00:00', 0, false, 2, null);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Revisão de procedimentos internos', 'Atualizar procedimentos internos da empresa', '2024-08-28 11:00:00', 0, false, 5, null);
INSERT INTO tb_tarefa (titulo, descricao, prazo, duracao, finalizada, departamento_id, pessoa_id) VALUES ('Treinamento de equipe', 'Realizar treinamento para a equipe de vendas', '2024-09-02 14:00:00', 0, false, 1, null);
```
